<div class="flex justify-between items-center">
  <h2 class="text-xl font-semibold">WOM Consumati</h2>
  <div class="flex items-center gap-2">
    <div class="relative">
      <app-search
        [placeholder]="'Ricerca Merchant'"
        [searchControl]="searchMerchantControl"
        (searchEmit)="searchMerchant($event)"
      ></app-search>

      <ng-container
        *ngIf="consumedDataFetched && consumedDataFetched.length > 0"
      >
        <app-lazy-search
          [fetchData]="consumedDataFetched"
          (selectEmit)="onElementSelected('merchant', $event)"
          class="absolute top-full mt-2 w-full z-10 bg-white shadow-md border rounded-lg"
        ></app-lazy-search>
      </ng-container>
    </div>
  </div>
</div>
<div class="flex flex-row justify-end gap-4 mt-3">
  <div *ngFor="let merchantName of merchantFilter.merchantNames; let i = index">
    <p class="filter-selected-el">
      <button
        *ngIf="currentUser.role === 'Admin'"
        (click)="
          clearMerchants(
            'merchant',
            merchantName,
            merchantFilter.merchantIds[i]
          )
        "
      >
        <i class="fa-solid fa-xmark text-red-500"></i>
        {{ merchantName }}
      </button>
    </p>
  </div>
</div>
