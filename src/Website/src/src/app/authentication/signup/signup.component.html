<mat-card>
  <mat-card-content>
    <mat-horizontal-stepper linear #stepper>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <h1>{{ "SIGN_UP.TITLE" | translate }}</h1>

        <p [innerHTML]="'SIGN_UP.SUBTITLE' | translate"></p>
        <p>
          <a [routerLink]="['/authentication/signin']">{{ "SIGN_UP.BTN_ALREADY_REGISTERED" | translate }}</a>
        </p>
        <mat-error *ngIf="signupInvalid">
          {{ 'SIGN_UP.ERR.FORM' | translate }}
        </mat-error>

        <!-- REPRESENTATIVE DATA -->
        <table class="full-width">
          <tr>
            <td colspan="2">
              <h1>{{ 'SIGN_UP.REPRESENTATIVE.TITLE' | translate }}</h1>

              <mat-form-field>
                <label>
                  <input matInput placeholder="{{ 'SIGN_UP.REPRESENTATIVE.EMAIL' | translate }}" formControlName="email" required>
                </label>
                <mat-error>
                  Please provide a valid email address
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field>
                <label>
                  <input matInput type="password" placeholder="{{ 'SIGN_UP.REPRESENTATIVE.PASSWORD' | translate }}" formControlName="password" required>
                </label>
                <mat-error>
                  Please provide a valid password
                </mat-error>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field>
                <label>
                  <input matInput type="password" placeholder="{{ 'SIGN_UP.REPRESENTATIVE.REPEAT_PASSWORD' | translate }}" formControlName="passwordRepeat" required>
                </label>
                <mat-error>
                  Please provide a valid password
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field>
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.REPRESENTATIVE.NAME' | translate }}" formControlName="firstName" required>
                </label>
                <mat-error>
                  Please provide your name
                </mat-error>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field>
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.REPRESENTATIVE.SURNAME' | translate }}" formControlName="lastName" required>
                </label>
                <mat-error>
                  Please provide your surname
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
        </table>
        <mat-divider [inset]="true"></mat-divider>

        <!-- MERCHANT DATA -->
        <table class="full-width">
          <tr>
            <td colspan="2">
              <h1>{{ 'SIGN_UP.MERCHANT.TITLE' | translate }}</h1>

              <mat-form-field>
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.MERCHANT.NAME' | translate }}" formControlName="merchantName" required>
                </label>
                <mat-error>
                  Please provide a valid name for the Merchant
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field>
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.MERCHANT.CF' | translate }}" formControlName="fiscalCode" required>
                </label>
                <mat-error>
                  Please provide a valid fiscal code
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
        </table>

        <!-- OPTIONAL MERCHANT DATA -->
        <div class="row form-subgroup">
          <p class="description" [innerHTML]="'SIGN_UP.MERCHANT.OPTIONAL_TEXT' | translate"></p>
          <table class="full-width">
            <tr>
              <td colspan="2">
                <mat-form-field>
                  <label>
                    <input matInput type="text" placeholder="{{ 'SIGN_UP.MERCHANT.ADDRESS' | translate }}" formControlName="merchantAddress">
                  </label>
                </mat-form-field>
              </td>
            <tr>
            <tr>
              <td colspan="1">
                <mat-form-field>
                  <label>
                    <input matInput #cap placeholder="{{ 'SIGN_UP.MERCHANT.CAP' | translate }}" formControlName="merchantCap">
                  </label>
                  <mat-hint align="start">{{cap.value.length}} / 5</mat-hint>
                </mat-form-field>
              </td>
              <td>
                <mat-form-field>
                  <label>
                    <input matInput type="text" placeholder="{{ 'SIGN_UP.MERCHANT.CITY' | translate }}" formControlName="merchantCity">
                  </label>
                </mat-form-field>
              </td>
            </tr>
            <tr>
              <td colspan="2">
                <mat-form-field appearance="fill">
                  <mat-label>{{ 'SIGN_UP.MERCHANT.SELECT_COUNTRY' | translate }}</mat-label>
                  <mat-select formControlName="countries" >
                    <mat-option *ngFor="let country of countryList" [value]="country">{{country}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </td>
            </tr>
          </table>
        </div>
        <mat-divider [inset]="true"></mat-divider>
        <table class="full-width">
          <tr>
            <td>
              <mat-form-field appearance="fill">
                <mat-label>{{ 'SIGN_UP.MERCHANT.BUSINESS' | translate }}</mat-label>
                <mat-select formControlName="businesses" >
                  <mat-option *ngFor="let business of businessList" [value]="business">{{business}}</mat-option>
                </mat-select>
                <mat-error>
                  Please select a primary business
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field>
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.MERCHANT.WEBSITE' | translate }}" formControlName="merchantWebsite">
                </label>
              </mat-form-field>
            </td>
          <tr>
          <tr>
          <td>
            <p class="description" [innerHTML]="'SIGN_UP.MERCHANT.OPTIONAL_WEBSITE_TEXT' | translate"></p>
          </td>
        </tr>
          <tr>
            <td>
              <mat-form-field class="example-full-width ">
                <label>
                  <textarea class="form-subgroup" matInput placeholder="{{ 'SIGN_UP.MERCHANT.DESCRIPTION' | translate }}" formControlName="merchantDescription"></textarea>
                </label>
                <mat-error>
                  Please provide a short description for your merchant
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <p class="description">
                {{ 'SIGN_UP.MERCHANT.DESCRIPTION_TEXT' | translate }}
              </p>
            </td>
          </tr>
        </table>
        <mat-divider [inset]="true"></mat-divider>

        <h1 [innerHTML]="'SIGN_UP.POS.TITLE' | translate"></h1>

        <p [innerHTML]="'SIGN_UP.POS.SUBTITLE_A' | translate"></p>

        <p [innerHTML]="'SIGN_UP.POS.SUBTITLE_B' | translate"></p>
        <!-- POS SECTION -->
        <table class="full-width">
          <tr>
            <td colspan="2">
              <mat-form-field class="example-full-width">
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.POS.NAME' | translate }}" formControlName="posName">
                </label>
                <mat-error>
                  Please insert a name for your POS
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <p class="description">
                {{ 'SIGN_UP.POS.NAME_TEXT' | translate }}
              </p>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              {{ 'SIGN_UP.POS.MAP_TITLE' | translate }}
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field class="example-full-width">
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.POS.LAT' | translate }}" [value]="posLat" formControlName="posLatitude">
                </label>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field class="example-full-width">
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.POS.LON' | translate }}" [value]="posLon" formControlName="posLongitude">
                </label>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <mat-form-field class="example-full-width">
                <label>
                  <input matInput type="text" placeholder="{{ 'SIGN_UP.POS.URL' | translate }}" formControlName="posUrl">
                </label>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <p class="description" [innerHTML]="'SIGN_UP.POS.URL_OPTIONAL_TEXT' | translate"></p>
            </td>
          </tr>
        </table>
        <mat-divider [inset]="true"></mat-divider>

        <mat-form-field  appearance="example-full-width" style="height: 10px">
          <label>
            <input matInput formControlName="termsConditionsCheckbox" [hidden]="true">
          </label>
          <mat-error>
            Please accept the terms and conditions
          </mat-error>
        </mat-form-field>
        <mat-checkbox class="example-margin" [checked]="termsConditionsChecked" formControlName="termsConditionsCheckbox">
          {{ 'SIGN_UP.TERMS_CONDITIONS' | translate }}
        </mat-checkbox>
        <br><br>
        <p>
          <button mat-raised-button color="primary">{{ 'SIGN_UP.BTN_SIGN_UP' | translate }}</button>
        </p>
      </form>
    </mat-horizontal-stepper>
  </mat-card-content>
</mat-card>
